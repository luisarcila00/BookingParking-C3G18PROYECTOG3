(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c9e1b9cc"],{5510:function(t,e,r){"use strict";r("d0bb")},"5d29":function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"cupos"},[r("v-row",{attrs:{align:"center",justify:"center"}},[r("v-col",{attrs:{cols:"12"}},[r("v-hover",{scopedSlots:t._u([{key:"default",fn:function(e){var a=e.hover;return[r("v-card",{staticClass:"mx-auto",attrs:{elevation:a?12:2,height:"auto","max-width":"350"}},[r("v-card-text",{staticClass:"my-4 text-center text-h6"},[t._v(" "+t._s(t.isNew?"Asignar":"Actualizar")+" Cupos ")]),r("v-row",{attrs:{align:"center",justify:"center"}},[r("v-col",{attrs:{cols:"10"}},[r("v-text-field",{attrs:{label:"Code"},model:{value:t.code,callback:function(e){t.code=e},expression:"code"}}),r("v-text-field",{attrs:{label:"Total de Cupos",rules:t.totalRules,type:"number",min:"0"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.confirmarMostrar()}},model:{value:t.totalCup,callback:function(e){t.totalCup=e},expression:"totalCup"}},[r("v-icon",{attrs:{slot:"prepend"},slot:"prepend"},[t._v(" mdi-traffic-cone ")])],1),r("div",{staticClass:"botones"},[r("v-spacer"),r("v-btn",{attrs:{"x-small":"",color:"secondary",dark:""},on:{click:function(e){return t.confirmarMostrar()}}},[r("v-icon",{attrs:{left:""}},[t._v(" mdi-check-bold")]),t._v(" Confirmar ")],1)],1),t.isHidden?r("v-text-field",{attrs:{label:"Cupos Reservados",rules:t.totalRules,type:"number",min:"0",max:t.maximum},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.confirmarMostrarReservas()}},model:{value:t.reservadosCup,callback:function(e){t.reservadosCup=e},expression:"reservadosCup"}},[r("v-icon",{attrs:{slot:"prepend"},slot:"prepend"},[t._v(" mdi-calendar-remove")])],1):t._e(),t.isHidden?r("div",{staticClass:"botones"},[r("v-spacer"),r("v-btn",{attrs:{"x-small":"",color:"secondary",dark:""},on:{click:function(e){return t.confirmarMostrarReservas()}}},[r("v-icon",{attrs:{left:""}},[t._v(" mdi-check-bold")]),t._v(" Confirmar ")],1)],1):t._e(),t.isHiddenCars?r("v-text-field",{attrs:{label:"Cupos Carro",rules:t.totalRules,type:"number",min:"0",max:t.maximumCars},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.confirmarMostrarCar()}},model:{value:t.carroCup,callback:function(e){t.carroCup=e},expression:"carroCup"}},[r("v-icon",{attrs:{slot:"prepend"},slot:"prepend"},[t._v(" mdi-car ")])],1):t._e(),t.isHiddenCars?r("div",{staticClass:"botones"},[r("v-spacer"),r("v-btn",{attrs:{"x-small":"",color:"secondary",dark:""},on:{click:function(e){return t.confirmarMostrarCar()}}},[r("v-icon",{attrs:{left:""}},[t._v(" mdi-check-bold")]),t._v(" Confirmar ")],1)],1):t._e(),t.isHiddenMot?r("v-text-field",{attrs:{label:"Cupos Moto",rules:t.totalRules,type:"number",min:"0",max:t.maximumMot},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.confirmarMostrarMot()}},model:{value:t.motoCup,callback:function(e){t.motoCup=e},expression:"motoCup"}},[r("v-icon",{attrs:{slot:"prepend"},slot:"prepend"},[t._v(" mdi-moped ")])],1):t._e(),t.isHiddenSafe?r("div",{staticClass:"safe"},[r("v-btn",{attrs:{color:"primary"},on:{click:function(e){t.guardar(),t.confirmarMostrarMot()}}},[r("v-icon",{attrs:{left:""}},[t._v(" mdi-content-save ")]),t._v(" Guardar ")],1)],1):t._e()],1)],1)],1)]}}])})],1)],1),r("v-snackbar",{scopedSlots:t._u([{key:"action",fn:function(e){var a=e.attrs;return[r("v-btn",t._b({attrs:{color:"pink",text:""},on:{click:function(e){return t.closeConfirmation()}}},"v-btn",a,!1),[t._v(" Close ")])]}}]),model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(t.snackbarText)+" ")])],1)},o=[],n=(r("b0c0"),r("a90e")),s={data:function(){return{code:"",totalCup:"",reservadosCup:"",carroCup:"",motoCup:"",isHidden:!1,isHiddenCars:!1,isHiddenMot:!1,isHiddenSafe:!1,maximum:"",maximumCars:"",maximumMot:"",totalRules:[function(t){return!!t||"Required."}],snackbar:!1,snackbarText:""}},created:function(){var t=this,e=this.$route.params.code;void 0!=e&&Object(n["b"])(e).then((function(e){var r=e.data;t.code=r.code,t.name=r.name,t.price=r.price,t.categories=r.categories,t.isNew=!1})).catch((function(t){return console.error(t)}))},methods:{confirmarMostrar:function(){0!=this.totalCup?(this.maximum=this.totalCup,this.isHidden=!this.isHidden):alert("no tiene ningún cupo disponible")},confirmarMostrarReservas:function(){parseInt(this.reservadosCup)>parseInt(this.maximum)?alert("tiene "+this.maximum+" cupos disponibles "):(this.maximumCars=this.totalCup-this.reservadosCup,this.isHiddenCars=!this.isHiddenCars),0==this.reservadosCup&&alert("Ningún cupo reservado")},confirmarMostrarCar:function(){0!=this.carroCup?parseInt(this.carroCup)>parseInt(this.maximumCars)?alert("tiene "+this.maximumCars+" cupos disponibles"):(this.maximumMot=this.totalCup-this.reservadosCup-this.carroCup,this.isHiddenMot=!this.isHiddenMot,this.isHiddenSafe=!this.isHiddenSafe):alert("no tiene ningún cupo disponible")},confirmarMostrarMot:function(){parseInt(this.motoCup)>parseInt(this.maximumMot)?alert("tiene "+this.maximumMot+" cupos disponibles"):0==this.maximumMot&&alert("no tiene ningún cupo disponible")},guardar:function(){var t=this;console.log("guardar en db");var e={code:this.code,totalCup:this.totalCup,reservadosCup:this.reservadosCup,carroCup:this.carroCup,motoCup:this.motoCup};Object(n["a"])(e).then((function(){t.snackbarText="Guardado correctamente",t.snackbar=!0})).catch((function(t){return console.error(t)}))},closeConfirmation:function(){this.snackbar=!1,this.$router.push("/config")}}},i=s,c=(r("5510"),r("2877")),u=r("6544"),l=r.n(u),d=r("8336"),p=r("b0af"),m=r("99d9"),v=r("62ad"),f=r("ce87"),h=r("132d"),C=r("0fd9"),b=r("2db4"),k=r("2fa4"),x=r("8654"),y=Object(c["a"])(i,a,o,!1,null,null,null);e["default"]=y.exports;l()(y,{VBtn:d["a"],VCard:p["a"],VCardText:m["c"],VCol:v["a"],VHover:f["a"],VIcon:h["a"],VRow:C["a"],VSnackbar:b["a"],VSpacer:k["a"],VTextField:x["a"]})},a90e:function(t,e,r){"use strict";r.d(e,"b",(function(){return n})),r.d(e,"a",(function(){return s}));var a=r("328a"),o="api/asignarCupos",n=function(){return a["a"].get(o)},s=function(t){return a["a"].post(o,t)}},ce87:function(t,e,r){"use strict";var a=r("16b7"),o=r("f2e7"),n=r("58df"),s=r("d9bd");e["a"]=Object(n["a"])(a["a"],o["a"]).extend({name:"v-hover",props:{disabled:{type:Boolean,default:!1},value:{type:Boolean,default:void 0}},methods:{onMouseEnter:function(){this.runDelay("open")},onMouseLeave:function(){this.runDelay("close")}},render:function(){return this.$scopedSlots.default||void 0!==this.value?(this.$scopedSlots.default&&(t=this.$scopedSlots.default({hover:this.isActive})),Array.isArray(t)&&1===t.length&&(t=t[0]),t&&!Array.isArray(t)&&t.tag?(this.disabled||(t.data=t.data||{},this._g(t.data,{mouseenter:this.onMouseEnter,mouseleave:this.onMouseLeave})),t):(Object(s["c"])("v-hover should only contain a single element",this),t)):(Object(s["c"])("v-hover is missing a default scopedSlot or bound value",this),null);var t}})},d0bb:function(t,e,r){}}]);
//# sourceMappingURL=chunk-c9e1b9cc.7a76d7a8.js.map